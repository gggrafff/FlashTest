<Window x:Class="wpf.SelectDrive"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="МОСФЛЕШ. Выберите тестируемое устройство."
    Height="300"
    Width="400"
    MinHeight="300"
    MinWidth="400"
    Icon="/myicon.ico"
    Style="{StaticResource StyleSelect}"
    >
    <Grid>
        <Button x:Name="butOK" Content="Выбрать" Height="33" VerticalAlignment="Top" Margin="29,210,204,0" FontSize="18" Click="butOK_Click">
            <Button.Template>
                <ControlTemplate  TargetType="Button">
                    <Grid>

                        <Rectangle x:Name="Rect" RadiusX="15" RadiusY="15" Fill="White"></Rectangle>
                        <Label Content="{TemplateBinding Content}" HorizontalAlignment="Center"
                               VerticalAlignment="Center">


                        </Label>

                    </Grid>

                    <ControlTemplate.Triggers>
                        <EventTrigger RoutedEvent="MouseEnter">
                            <EventTrigger.Actions>
                                <BeginStoryboard>
                                    <Storyboard Storyboard.TargetProperty="Fill.Color" Storyboard.TargetName="Rect">
                                        <ColorAnimation To="#BADA55" SpeedRatio="7"></ColorAnimation>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger.Actions>
                        </EventTrigger>
                        <EventTrigger RoutedEvent="MouseLeave">
                            <EventTrigger.Actions>
                                <BeginStoryboard>
                                    <Storyboard Storyboard.TargetProperty="Fill.Color" Storyboard.TargetName="Rect">
                                        <ColorAnimation To="#FFFFFF" SpeedRatio="7"></ColorAnimation>
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger.Actions>
                        </EventTrigger>
                    </ControlTemplate.Triggers>

                </ControlTemplate>
            </Button.Template>




        </Button>
        <Button x:Name="butCancel" Content="Отмена" Height="33" VerticalAlignment="Top" Margin="204,210,29,0" FontSize="18" Click="butCancel_Click">
            <Button.Template>
                <ControlTemplate  TargetType="{x:Type Button}">
                    <Grid>

                        <Rectangle x:Name="Rect" RadiusX="15" RadiusY="15" Fill="White"/>
                        <Label Content="{TemplateBinding Content}" HorizontalAlignment="Center"
        					VerticalAlignment="Center"/>

                    </Grid>

                    <ControlTemplate.Triggers>
                        <EventTrigger RoutedEvent="UIElement.MouseEnter">
                            <BeginStoryboard>
                                <Storyboard Storyboard.TargetProperty="Fill.Color" Storyboard.TargetName="Rect">
                                    <ColorAnimation To="#BADA55" SpeedRatio="7"/>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                        <EventTrigger RoutedEvent="UIElement.MouseLeave">
                            <BeginStoryboard>
                                <Storyboard Storyboard.TargetProperty="Fill.Color" Storyboard.TargetName="Rect">
                                    <ColorAnimation To="#FFFFFF" SpeedRatio="7"/>
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </ControlTemplate.Triggers>

                </ControlTemplate>
            </Button.Template>




        </Button>
        <ListBox x:Name="ListDrive" HorizontalAlignment="Left" Height="195" Margin="29,10,0,0" VerticalAlignment="Top" Width="151"  BorderBrush="Transparent" SelectionChanged="ListDrive_SelectionChanged"/>
        <TextBlock x:Name="DriveDescr" HorizontalAlignment="Left" Margin="204,10,0,0" TextWrapping="Wrap" Text="" VerticalAlignment="Top" Height="195" Width="151" Foreground="White"/>
    </Grid>
</Window>
